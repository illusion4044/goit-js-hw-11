{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/js/main.js"],"sourcesContent":["export const createGalleryItemMarkup = images => {\n    return images\n      .map(\n        ({ urls, alt_description, likes }) => `\n        <div class=\"col\">\n          <div class=\"card shadow-sm\">\n            <img src=\"${urls.regular}\" alt=\"${alt_description}\" class=\"gallery-img img-fluid\" />\n            <div class=\"card-body\">\n              <div class=\"d-flex justify-content-between align-items-center\">\n                <div class=\"btn-group\">\n                  <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\">\n                    View\n                  </button>\n                  <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\">\n                    Edit\n                  </button>\n                </div>\n                <small class=\"text-body-secondary\">Likes: ${likes}</small>\n              </div>\n            </div>\n          </div>\n        </div>`\n      )\n      .join('');\n  };","const API_KEY = '813609-98f1a5b8a61f7cd1a2ca10379';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotosByQuery = (query = 'cat') => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY, \n    q: query,\n    orientation: 'horizontal', \n  });\n\n  return fetch(`${BASE_URL}?${searchParams.toString()}`).then(response => {\n    if (!response.ok) {\n      throw new Error(`Error ${response.status}: ${response.statusText}`);\n    }\n\n    return response.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport { createGalleryItemMarkup } from './render-functions.js';\nimport { fetchPhotosByQuery } from './pixabay-api.js';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nfunction onSearchFormSubmit(event) {\n    event.preventDefault();\n    const searchQuery = event.target.elements.searchKeyword.value.trim();\n  \n    if (searchQuery === '') {\n      galleryEl.innerHTML = '';\n      event.target.reset();\n      iziToast.show({\n        message: 'Input field can not be empty',\n        position: 'topRight',\n        timeout: 2000,\n        color: 'red',\n      });\n  \n      return;\n    }\n  \n    galleryEl.innerHTML = '';\n    loaderEl.classList.remove('is-hidden');\n  \n    fetchPhotosByQuery(searchQuery)\n      .then(imagesData => {\n        if (imagesData.total === 0) {\n          iziToast.show({\n            message: 'Sorry, there are no images for this query',\n            position: 'topRight',\n            timeout: 2000,\n            color: 'red',\n          });\n        }\n  \n        galleryEl.innerHTML = createGalleryItemMarkup(imagesData.results);\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        event.target.reset();\n        loaderEl.classList.add('is-hidden');\n      });\n  }\n  \n  searchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["createGalleryItemMarkup","images","urls","alt_description","likes","API_KEY","BASE_URL","fetchPhotosByQuery","query","searchParams","response","searchFormEl","galleryEl","loaderEl","onSearchFormSubmit","event","searchQuery","iziToast","imagesData","error"],"mappings":"svBAAO,MAAMA,EAA0BC,GAC5BA,EACJ,IACC,CAAC,CAAE,KAAAC,EAAM,gBAAAC,EAAiB,MAAAC,CAAO,IAAK;AAAA;AAAA;AAAA,wBAGtBF,EAAK,OAAO,UAAUC,CAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DAWDC,CAAK;AAAA;AAAA;AAAA;AAAA,eAK1D,EACA,KAAK,EAAE,ECvBRC,EAAU,mCACVC,EAAW,2BAEJC,EAAqB,CAACC,EAAQ,QAAU,CACnD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,YAAa,YACjB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,EAAa,SAAQ,CAAE,EAAE,EAAE,KAAKC,GAAY,CACtE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,SAASA,EAAS,MAAM,KAAKA,EAAS,UAAU,EAAE,EAGpE,OAAOA,EAAS,MACpB,CAAG,CACH,ECXMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAEpD,SAASC,EAAmBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,cAAc,MAAM,OAE9D,GAAIC,IAAgB,GAAI,CACtBJ,EAAU,UAAY,GACtBG,EAAM,OAAO,QACbE,EAAS,KAAK,CACZ,QAAS,+BACT,SAAU,WACV,QAAS,IACT,MAAO,KACf,CAAO,EAED,MACD,CAEDL,EAAU,UAAY,GACtBC,EAAS,UAAU,OAAO,WAAW,EAErCN,EAAmBS,CAAW,EAC3B,KAAKE,GAAc,CACdA,EAAW,QAAU,GACvBD,EAAS,KAAK,CACZ,QAAS,4CACT,SAAU,WACV,QAAS,IACT,MAAO,KACnB,CAAW,EAGHL,EAAU,UAAYZ,EAAwBkB,EAAW,OAAO,CACxE,CAAO,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbJ,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CAC1C,CAAO,CACJ,CAEDF,EAAa,iBAAiB,SAAUG,CAAkB"}